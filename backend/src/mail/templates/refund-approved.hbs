<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding: 20px; }
    .header { background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 30px; text-align: center; border-radius: 8px 8px 0 0; }
    .content { background: #fff; padding: 30px; border: 1px solid #e0e0e0; border-top: none; }
    .success { background: #d4edda; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #28a745; text-align: center; }
    .refund-details { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }
    .detail-row { display: flex; justify-content: space-between; margin: 10px 0; padding: 10px 0; border-bottom: 1px solid #e0e0e0; }
    .label { font-weight: bold; color: #28a745; }
    .amount { font-size: 24px; font-weight: bold; color: #28a745; }
    .footer { text-align: center; padding: 20px; color: #666; font-size: 12px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>✅ Reembolso Aprobado</h1>
    </div>
    <div class="content">
      <p>Hola <strong>{{name}}</strong>,</p>

      <div class="success">
        <h2 style="margin: 0;">Tu solicitud de reembolso ha sido aprobada</h2>
      </div>

      <p>Te informamos que tu solicitud de reembolso para el evento <strong>{{eventTitle}}</strong> ha sido procesada exitosamente.</p>

      <div class="refund-details">
        <h3>Detalles del Reembolso</h3>

        <div class="detail-row">
          <span class="label">Monto original:</span>
          <span>{{currency}} {{originalAmount}}</span>
        </div>

        <div class="detail-row">
          <span class="label">Porcentaje de reembolso:</span>
          <span>{{refundPercentage}}%</span>
        </div>

        <div class="detail-row" style="border-bottom: 2px solid #28a745;">
          <span class="label">Monto a devolver:</span>
          <span class="amount">{{currency}} {{refundAmount}}</span>
        </div>

        <div class="detail-row">
          <span class="label">Método de devolución:</span>
          <span>{{refundMethod}}</span>
        </div>

        {{#if transactionId}}
        <div class="detail-row">
          <span class="label">ID de transacción:</span>
          <span>{{transactionId}}</span>
        </div>
        {{/if}}

        <div class="detail-row">
          <span class="label">Fecha de procesamiento:</span>
          <span>{{processedAt}}</span>
        </div>

        <div class="detail-row">
          <span class="label">Motivo:</span>
          <span>{{reason}}</span>
        </div>
      </div>

      {{#if bankDetails}}
      <div style="background: #e7f3ff; padding: 15px; border-radius: 8px; margin: 20px 0;">
        <p><strong>Datos bancarios para la devolución:</strong></p>
        <p>Banco: {{bankDetails.bankName}}<br>
        Cuenta: {{bankDetails.accountNumber}}<br>
        Titular: {{bankDetails.accountHolder}}</p>
      </div>
      {{/if}}

      {{#if creditNoteUrl}}
      <div style="text-align: center; margin: 20px 0;">
        <a href="{{creditNoteUrl}}" style="display: inline-block; background: #667eea; color: white; padding: 15px 40px; text-decoration: none; border-radius: 8px; font-weight: bold;">Descargar Nota de Crédito</a>
      </div>
      {{/if}}

      <p><strong>¿Cuándo recibiré mi dinero?</strong></p>
      <p>El tiempo de procesamiento depende del método de pago:</p>
      <ul>
        <li>Tarjeta de crédito/débito: 5-10 días hábiles</li>
        <li>Transferencia bancaria: 2-3 días hábiles</li>
        <li>Billetera digital: 1-2 días hábiles</li>
      </ul>

      <p>Si tienes alguna pregunta sobre tu reembolso, no dudes en contactarnos.</p>

      <p>Saludos,<br>
      <strong>Equipo CIP Eventos</strong></p>
    </div>
    <div class="footer">
      <p>Este es un correo automático, por favor no responder.</p>
    </div>
  </div>
</body>
</html>
